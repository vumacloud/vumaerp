<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit hr.contract form view to add Uganda-specific fields -->
    <record id="hr_contract_view_form_uganda" model="ir.ui.view">
        <field name="name">hr.contract.form.uganda</field>
        <field name="model">hr.contract</field>
        <field name="inherit_id" ref="hr_contract.hr_contract_view_form"/>
        <field name="priority">20</field>
        <field name="arch" type="xml">
            <!-- Add Uganda Statutory Information page -->
            <xpath expr="//notebook" position="inside">
                <page string="Uganda Statutory" name="uganda_statutory">
                    <group>
                        <group string="Employee Tax Information">
                            <field name="uganda_tin" placeholder="e.g., 1000000000"/>
                            <field name="uganda_nssf_number" placeholder="NSSF Member Number"/>
                            <field name="uganda_resident" widget="boolean_toggle"/>
                        </group>
                        <group string="Local Service Tax">
                            <field name="uganda_lst_district"/>
                            <field name="uganda_lst_annual_amount"/>
                        </group>
                    </group>
                </page>
            </xpath>

            <!-- Add Uganda allowances and benefits section -->
            <xpath expr="//field[@name='wage']" position="after">
                <separator string="Uganda Allowances"/>
                <group>
                    <group>
                        <field name="uganda_housing_allowance"/>
                        <field name="uganda_transport_allowance"/>
                        <field name="uganda_medical_allowance"/>
                    </group>
                    <group>
                        <field name="uganda_leave_allowance"/>
                        <field name="uganda_other_allowances"/>
                    </group>
                </group>
                <separator string="Benefits in Kind"/>
                <group>
                    <group>
                        <field name="uganda_motor_vehicle_benefit"/>
                        <field name="uganda_housing_benefit"/>
                    </group>
                    <group>
                        <field name="uganda_furniture_benefit"/>
                        <field name="uganda_other_benefits"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>

    <!-- Tree view with Uganda-specific columns -->
    <record id="hr_contract_view_tree_uganda" model="ir.ui.view">
        <field name="name">hr.contract.tree.uganda</field>
        <field name="model">hr.contract</field>
        <field name="inherit_id" ref="hr_contract.hr_contract_view_tree"/>
        <field name="priority">20</field>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='wage']" position="after">
                <field name="uganda_tin" optional="hide"/>
                <field name="uganda_nssf_number" optional="hide"/>
            </xpath>
        </field>
    </record>

    <!-- Search view with Uganda filters -->
    <record id="hr_contract_view_search_uganda" model="ir.ui.view">
        <field name="name">hr.contract.search.uganda</field>
        <field name="model">hr.contract</field>
        <field name="inherit_id" ref="hr_contract.hr_contract_view_search"/>
        <field name="priority">20</field>
        <field name="arch" type="xml">
            <xpath expr="//search" position="inside">
                <separator/>
                <filter string="Resident" name="resident" domain="[('uganda_resident', '=', True)]"/>
                <filter string="Non-Resident" name="non_resident" domain="[('uganda_resident', '=', False)]"/>
                <separator/>
                <filter string="Has TIN" name="has_tin" domain="[('uganda_tin', '!=', False)]"/>
                <filter string="Missing TIN" name="missing_tin" domain="[('uganda_tin', '=', False)]"/>
            </xpath>
        </field>
    </record>
</odoo>
